import{i as L,r as zt,v as Wt,a as qt,b as tt,g as Kt,c as Qt,d as Jt,e as Zt}from"./fullscreen-xOM45o0j.js";import{g as te,r as at,a as ee,c as ne,b as oe,d as ie}from"./preview-WUbScpR-.js";const re=t=>{let e=[],n=[];const o=(c,f)=>{const p=setTimeout(c,f);return n.push(p),p},i=()=>{n.forEach(c=>{clearTimeout(c)}),n=[]},s=(c,f,p,u=void 0)=>{c.addEventListener(f,p,u),e.push([c,f,p,u])},r=()=>{e.forEach(c=>{const[f,p,u,g]=c;f.removeEventListener(p,u,g)}),e=[]},l=c=>{const f=c.toElement||c.relatedTarget||c.target,p=t.element.currentTargetElement;if(f!==p&&!t.element.contains(f)){const u=o(t.hide,300),g=()=>{clearTimeout(u)};s(t.element,"mouseenter",g)}},d=c=>{const f=t.element.querySelector(".wikipediapreview-body"),p=t.element.querySelector(".wikipediapreview-header"),u=t.element.querySelector(".wikipediapreview-footer-cta")||t.element.querySelector(".wikipediapreview-footer-loading");if(f)if(t.element.style[2]==="bottom"||t.element.style.bottom){const g=t.element.getBoundingClientRect().top,h=parseInt(window.getComputedStyle(f).maxHeight.slice(0,-2));f.style.maxHeight=Math.min(c,h+g)+"px"}else{const g=t.element.getBoundingClientRect().top,h=window.getComputedStyle(p).height.slice(0,-2),w=u?window.getComputedStyle(u).height.slice(0,-2):0,v=window.innerHeight-g-h-w;f.style.maxHeight=Math.min(c,v)+"px"}},a=()=>{const{lang:f,title:p}=t;t.element.component.wikipediapreview.classList.add("expanded"),L||d(496),!t.loading&&f&&p&&zt(f,p,u=>{const g=t.element.component.wikipediapreviewGallery;u&&u.length>0?g.appendChild(te(u,t)):t.element.component.body.removeChild(g)})},x=c=>{let f,p,u,g;const h=c.querySelector(".wikipediapreview-header"),w=c.querySelector(".wikipediapreview-body"),v=b=>{f=b.touches[0].clientY,u=window.getComputedStyle(w),g=Number(u.height.slice(0,-2))},E=(b,O)=>{O&&b.preventDefault();const S=b.touches[0].clientY,k=f-S,C=g+k,_=!c.querySelector(".wikipediapreview.expanded")&&!O||O;w.style.transition="auto",p=S,_&&(w.style.maxHeight=C+"px")},A=b=>{const O=c.querySelector(".wikipediapreview.expanded"),S=f-p,k=Math.abs(S)>80,C=!O&&!b||b;w.style.transition="all 0.25s ease-in-out",S<0&&k&&C?t.hide():S>0&&k&&C&&!O?(w.style.maxHeight="70vh",a()):w.style.maxHeight=g+"px"};s(w,"touchstart",v),s(w,"touchmove",b=>{E(b,!1)}),s(w,"touchend",()=>A(!1)),s(h,"touchstart",v),s(h,"touchmove",b=>{E(b,!0)}),s(h,"touchend",()=>A(!0))};return{onHide:()=>{t.element.component.wikipediapreview.classList.remove("expanded"),t.lang=null,t.title=null,t.loading=!1;const c=t.element.querySelector(".wikipediapreview-body");c.style.transition="auto",r(),i()},onShow:c=>{if(c.component={body:c.querySelector(".wikipediapreview-body"),wikipediapreview:c.querySelector(".wikipediapreview"),wikipediapreviewGallery:c.querySelector(".wikipediapreview-gallery"),closeBtn:c.querySelector(".wikipediapreview-header-closebtn"),readMore:c.querySelector(".wikipediapreview-footer-cta-readmore"),content:c.querySelector(".wikipediapreview-body > p")},c.component.content&&c.component.content.getBoundingClientRect().height<248?a():L||d(248),L&&s(c.component.closeBtn,"click",t.hide),c.component.readMore&&s(c.component.readMore,"click",a),L){const f=document.querySelector(".wp-dark-screen");s(f,"click",t.hide,!0),x(c)}else s(c,"mouseleave",l),s(c.currentTargetElement,"mouseleave",l)},onExpand:a}},se=["top","right","bottom","left"],yt=["start","end"],vt=se.reduce((t,e)=>t.concat(e,e+"-"+yt[0],e+"-"+yt[1]),[]),dt=Math.min,ce=Math.max,le={left:"right",right:"left",bottom:"top",top:"bottom"},ae={start:"end",end:"start"};function de(t,e,n){return ce(t,dt(e,n))}function ot(t,e){return typeof t=="function"?t(e):t}function G(t){return t.split("-")[0]}function D(t){return t.split("-")[1]}function fe(t){return t==="x"?"y":"x"}function ut(t){return t==="y"?"height":"width"}function pt(t){return["top","bottom"].includes(G(t))?"y":"x"}function mt(t){return fe(pt(t))}function ue(t,e,n){n===void 0&&(n=!1);const o=D(t),i=mt(t),s=ut(i);let r=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(r=xt(r)),[r,xt(r)]}function pe(t){return t.replace(/start|end/g,e=>ae[e])}function xt(t){return t.replace(/left|right|bottom|top/g,e=>le[e])}function me(t){return{top:0,right:0,bottom:0,left:0,...t}}function Nt(t){return typeof t!="number"?me(t):{top:t,right:t,bottom:t,left:t}}function et(t){const{x:e,y:n,width:o,height:i}=t;return{width:o,height:i,top:n,left:e,right:e+o,bottom:n+i,x:e,y:n}}function bt(t,e,n){let{reference:o,floating:i}=t;const s=pt(e),r=mt(e),l=ut(r),d=G(e),a=s==="y",x=o.x+o.width/2-i.width/2,m=o.y+o.height/2-i.height/2,y=o[l]/2-i[l]/2;let c;switch(d){case"top":c={x,y:o.y-i.height};break;case"bottom":c={x,y:o.y+o.height};break;case"right":c={x:o.x+o.width,y:m};break;case"left":c={x:o.x-i.width,y:m};break;default:c={x:o.x,y:o.y}}switch(D(e)){case"start":c[r]-=y*(n&&a?-1:1);break;case"end":c[r]+=y*(n&&a?-1:1);break}return c}const ge=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:s=[],platform:r}=n,l=s.filter(Boolean),d=await(r.isRTL==null?void 0:r.isRTL(e));let a=await r.getElementRects({reference:t,floating:e,strategy:i}),{x,y:m}=bt(a,o,d),y=o,c={},f=0;for(let p=0;p<l.length;p++){const{name:u,fn:g}=l[p],{x:h,y:w,data:v,reset:E}=await g({x,y:m,initialPlacement:o,placement:y,strategy:i,middlewareData:c,rects:a,platform:r,elements:{reference:t,floating:e}});x=h??x,m=w??m,c={...c,[u]:{...c[u],...v}},E&&f<=50&&(f++,typeof E=="object"&&(E.placement&&(y=E.placement),E.rects&&(a=E.rects===!0?await r.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x,y:m}=bt(a,y,d)),p=-1)}return{x,y:m,placement:y,strategy:i,middlewareData:c}};async function he(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:s,rects:r,elements:l,strategy:d}=t,{boundary:a="clippingAncestors",rootBoundary:x="viewport",elementContext:m="floating",altBoundary:y=!1,padding:c=0}=ot(e,t),f=Nt(c),u=l[y?m==="floating"?"reference":"floating":m],g=et(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(u)))==null||n?u:u.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:a,rootBoundary:x,strategy:d})),h=m==="floating"?{x:o,y:i,width:r.floating.width,height:r.floating.height}:r.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),v=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},E=et(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:h,offsetParent:w,strategy:d}):h);return{top:(g.top-E.top+f.top)/v.y,bottom:(E.bottom-g.bottom+f.bottom)/v.y,left:(g.left-E.left+f.left)/v.x,right:(E.right-g.right+f.right)/v.x}}const we=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:o,placement:i,rects:s,platform:r,elements:l,middlewareData:d}=e,{element:a,padding:x=0}=ot(t,e)||{};if(a==null)return{};const m=Nt(x),y={x:n,y:o},c=mt(i),f=ut(c),p=await r.getDimensions(a),u=c==="y",g=u?"top":"left",h=u?"bottom":"right",w=u?"clientHeight":"clientWidth",v=s.reference[f]+s.reference[c]-y[c]-s.floating[f],E=y[c]-s.reference[c],A=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a));let b=A?A[w]:0;(!b||!await(r.isElement==null?void 0:r.isElement(A)))&&(b=l.floating[w]||s.floating[f]);const O=v/2-E/2,S=b/2-p[f]/2-1,k=dt(m[g],S),C=dt(m[h],S),N=k,_=b-p[f]-C,V=b/2-p[f]/2+O,st=de(N,V,_),ct=!d.arrow&&D(i)!=null&&V!==st&&s.reference[f]/2-(V<N?k:C)-p[f]/2<0,lt=ct?V<N?V-N:V-_:0;return{[c]:y[c]+lt,data:{[c]:st,centerOffset:V-st-lt,...ct&&{alignmentOffset:lt}},reset:ct}}});function ye(t,e,n){return(t?[...n.filter(i=>D(i)===t),...n.filter(i=>D(i)!==t)]:n.filter(i=>G(i)===i)).filter(i=>t?D(i)===t||(e?pe(i)!==i:!1):!0)}const ve=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,o,i;const{rects:s,middlewareData:r,placement:l,platform:d,elements:a}=e,{crossAxis:x=!1,alignment:m,allowedPlacements:y=vt,autoAlignment:c=!0,...f}=ot(t,e),p=m!==void 0||y===vt?ye(m||null,c,y):y,u=await he(e,f),g=((n=r.autoPlacement)==null?void 0:n.index)||0,h=p[g];if(h==null)return{};const w=ue(h,s,await(d.isRTL==null?void 0:d.isRTL(a.floating)));if(l!==h)return{reset:{placement:p[0]}};const v=[u[G(h)],u[w[0]],u[w[1]]],E=[...((o=r.autoPlacement)==null?void 0:o.overflows)||[],{placement:h,overflows:v}],A=p[g+1];if(A)return{data:{index:g+1,overflows:E},reset:{placement:A}};const b=E.map(k=>{const C=D(k.placement);return[k.placement,C&&x?k.overflows.slice(0,2).reduce((N,_)=>N+_,0):k.overflows[0],k.overflows]}).sort((k,C)=>k[1]-C[1]),S=((i=b.filter(k=>k[2].slice(0,D(k[0])?2:3).every(C=>C<=0))[0])==null?void 0:i[0])||b[0][0];return S!==l?{data:{index:g+1,overflows:E},reset:{placement:S}}:{}}}};async function xe(t,e){const{placement:n,platform:o,elements:i}=t,s=await(o.isRTL==null?void 0:o.isRTL(i.floating)),r=G(n),l=D(n),d=pt(n)==="y",a=["left","top"].includes(r)?-1:1,x=s&&d?-1:1,m=ot(e,t);let{mainAxis:y,crossAxis:c,alignmentAxis:f}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...m};return l&&typeof f=="number"&&(c=l==="end"?f*-1:f),d?{x:c*x,y:y*a}:{x:y*a,y:c*x}}const be=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,o;const{x:i,y:s,placement:r,middlewareData:l}=e,d=await xe(e,t);return r===((n=l.offset)==null?void 0:n.placement)&&(o=l.arrow)!=null&&o.alignmentOffset?{}:{x:i+d.x,y:s+d.y,data:{...d,placement:r}}}}},Et=Math.min,U=Math.max,nt=Math.round,B=t=>({x:t,y:t});function W(t){return Vt(t)?(t.nodeName||"").toLowerCase():"#document"}function P(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function q(t){var e;return(e=(Vt(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Vt(t){return t instanceof Node||t instanceof P(t).Node}function M(t){return t instanceof Element||t instanceof P(t).Element}function $(t){return t instanceof HTMLElement||t instanceof P(t).HTMLElement}function kt(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof P(t).ShadowRoot}function z(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=R(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function Ee(t){return["table","td","th"].includes(W(t))}function gt(t){const e=ht(),n=R(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function ke(t){let e=I(t);for(;$(e)&&!it(e);){if(gt(e))return e;e=I(e)}return null}function ht(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function it(t){return["html","body","#document"].includes(W(t))}function R(t){return P(t).getComputedStyle(t)}function rt(t){return M(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function I(t){if(W(t)==="html")return t;const e=t.assignedSlot||t.parentNode||kt(t)&&t.host||q(t);return kt(e)?e.host:e}function Ft(t){const e=I(t);return it(e)?t.ownerDocument?t.ownerDocument.body:t.body:$(e)&&z(e)?e:Ft(e)}function ft(t,e,n){var o;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Ft(t),s=i===((o=t.ownerDocument)==null?void 0:o.body),r=P(i);return s?e.concat(r,r.visualViewport||[],z(i)?i:[],r.frameElement&&n?ft(r.frameElement):[]):e.concat(i,ft(i,[],n))}function _t(t){const e=R(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const i=$(t),s=i?t.offsetWidth:n,r=i?t.offsetHeight:o,l=nt(n)!==s||nt(o)!==r;return l&&(n=s,o=r),{width:n,height:o,$:l}}function Yt(t){return M(t)?t:t.contextElement}function Y(t){const e=Yt(t);if(!$(e))return B(1);const n=e.getBoundingClientRect(),{width:o,height:i,$:s}=_t(e);let r=(s?nt(n.width):n.width)/o,l=(s?nt(n.height):n.height)/i;return(!r||!Number.isFinite(r))&&(r=1),(!l||!Number.isFinite(l))&&(l=1),{x:r,y:l}}const Se=B(0);function It(t){const e=P(t);return!ht()||!e.visualViewport?Se:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Te(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==P(t)?!1:e}function j(t,e,n,o){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Yt(t);let r=B(1);e&&(o?M(o)&&(r=Y(o)):r=Y(t));const l=Te(s,n,o)?It(s):B(0);let d=(i.left+l.x)/r.x,a=(i.top+l.y)/r.y,x=i.width/r.x,m=i.height/r.y;if(s){const y=P(s),c=o&&M(o)?P(o):o;let f=y.frameElement;for(;f&&o&&c!==y;){const p=Y(f),u=f.getBoundingClientRect(),g=R(f),h=u.left+(f.clientLeft+parseFloat(g.paddingLeft))*p.x,w=u.top+(f.clientTop+parseFloat(g.paddingTop))*p.y;d*=p.x,a*=p.y,x*=p.x,m*=p.y,d+=h,a+=w,f=P(f).frameElement}}return et({width:x,height:m,x:d,y:a})}function Le(t){let{rect:e,offsetParent:n,strategy:o}=t;const i=$(n),s=q(n);if(n===s)return e;let r={scrollLeft:0,scrollTop:0},l=B(1);const d=B(0);if((i||!i&&o!=="fixed")&&((W(n)!=="body"||z(s))&&(r=rt(n)),$(n))){const a=j(n);l=Y(n),d.x=a.x+n.clientLeft,d.y=a.y+n.clientTop}return{width:e.width*l.x,height:e.height*l.y,x:e.x*l.x-r.scrollLeft*l.x+d.x,y:e.y*l.y-r.scrollTop*l.y+d.y}}function Ae(t){return Array.from(t.getClientRects())}function Xt(t){return j(q(t)).left+rt(t).scrollLeft}function Ce(t){const e=q(t),n=rt(t),o=t.ownerDocument.body,i=U(e.scrollWidth,e.clientWidth,o.scrollWidth,o.clientWidth),s=U(e.scrollHeight,e.clientHeight,o.scrollHeight,o.clientHeight);let r=-n.scrollLeft+Xt(t);const l=-n.scrollTop;return R(o).direction==="rtl"&&(r+=U(e.clientWidth,o.clientWidth)-i),{width:i,height:s,x:r,y:l}}function Pe(t,e){const n=P(t),o=q(t),i=n.visualViewport;let s=o.clientWidth,r=o.clientHeight,l=0,d=0;if(i){s=i.width,r=i.height;const a=ht();(!a||a&&e==="fixed")&&(l=i.offsetLeft,d=i.offsetTop)}return{width:s,height:r,x:l,y:d}}function Oe(t,e){const n=j(t,!0,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft,s=$(t)?Y(t):B(1),r=t.clientWidth*s.x,l=t.clientHeight*s.y,d=i*s.x,a=o*s.y;return{width:r,height:l,x:d,y:a}}function St(t,e,n){let o;if(e==="viewport")o=Pe(t,n);else if(e==="document")o=Ce(q(t));else if(M(e))o=Oe(e,n);else{const i=It(t);o={...e,x:e.x-i.x,y:e.y-i.y}}return et(o)}function Ut(t,e){const n=I(t);return n===e||!M(n)||it(n)?!1:R(n).position==="fixed"||Ut(n,e)}function Re(t,e){const n=e.get(t);if(n)return n;let o=ft(t,[],!1).filter(l=>M(l)&&W(l)!=="body"),i=null;const s=R(t).position==="fixed";let r=s?I(t):t;for(;M(r)&&!it(r);){const l=R(r),d=gt(r);!d&&l.position==="fixed"&&(i=null),(s?!d&&!i:!d&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||z(r)&&!d&&Ut(t,r))?o=o.filter(x=>x!==r):i=l,r=I(r)}return e.set(t,o),o}function He(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const r=[...n==="clippingAncestors"?Re(e,this._c):[].concat(n),o],l=r[0],d=r.reduce((a,x)=>{const m=St(e,x,i);return a.top=U(m.top,a.top),a.right=Et(m.right,a.right),a.bottom=Et(m.bottom,a.bottom),a.left=U(m.left,a.left),a},St(e,l,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function $e(t){return _t(t)}function De(t,e,n){const o=$(e),i=q(e),s=n==="fixed",r=j(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const d=B(0);if(o||!o&&!s)if((W(e)!=="body"||z(i))&&(l=rt(e)),o){const a=j(e,!0,s,e);d.x=a.x+e.clientLeft,d.y=a.y+e.clientTop}else i&&(d.x=Xt(i));return{x:r.left+l.scrollLeft-d.x,y:r.top+l.scrollTop-d.y,width:r.width,height:r.height}}function Tt(t,e){return!$(t)||R(t).position==="fixed"?null:e?e(t):t.offsetParent}function jt(t,e){const n=P(t);if(!$(t))return n;let o=Tt(t,e);for(;o&&Ee(o)&&R(o).position==="static";)o=Tt(o,e);return o&&(W(o)==="html"||W(o)==="body"&&R(o).position==="static"&&!gt(o))?n:o||ke(t)||n}const Me=async function(t){let{reference:e,floating:n,strategy:o}=t;const i=this.getOffsetParent||jt,s=this.getDimensions;return{reference:De(e,await i(n),o),floating:{x:0,y:0,...await s(n)}}};function Be(t){return R(t).direction==="rtl"}const We={convertOffsetParentRelativeRectToViewportRelativeRect:Le,getDocumentElement:q,getClippingRect:He,getOffsetParent:jt,getElementRects:Me,getClientRects:Ae,getDimensions:$e,getScale:Y,isElement:M,isRTL:Be},qe=(t,e,n)=>{const o=new Map,i={platform:We,...n},s={...i.platform,_c:o};return ge(t,e,{...i,platform:s})};let T;const K=t=>t&&t+"px",Ne=(t,e=window)=>{T||(T=e.document.createElement("div"),T.classList.add("wp-popup"),T.style.visibility="hidden",t.appendChild(T));const n={};return{show:(r,l)=>{let d=document.querySelector(".wikipediapreview-arrow");T.innerHTML=r,qe(l,T,{middleware:[ve(),be(10),we({element:d})]}).then(({x:a,y:x,middlewareData:m,placement:y})=>{const{x:c,y:f}=m.arrow;d=document.querySelector(".wikipediapreview-arrow"),T.style.top=K(x),T.style.left=K(a),d.style.left=c!==null?K(c):"",d.style.top=f!==null?K(f):"",y==="left"?d.style.right="-10px":y==="right"?d.style.left="-10px":y==="top"?d.style.bottom="-10px":y==="bottom"&&(d.style.top="-10px"),T.currentTargetElement=l,T.style.visibility="visible",n.onShow&&n.onShow(T)})},hide:()=>{n.onHide&&n.onHide(T),T.style.visibility="hidden",T.currentTargetElement=null},subscribe:(r={})=>{r.onShow&&(n.onShow=r.onShow),r.onHide&&(n.onHide=r.onHide)},element:T}};let H,Gt;const Ve=t=>{if(!t.querySelector(".wp-dark-screen")){const e=t.createElement("div");e.classList.add("wp-dark-screen"),t.body.appendChild(e),Gt=t.body.style.overflow,t.body.style.overflow="hidden"}},Fe=t=>{const e=t.getElementsByClassName("wp-dark-screen");t.body.removeChild(e[0]),t.body.style.overflow=Gt},_e=(t,e=window)=>{H||(H=e.document.createElement("div"),H.classList.add("wp-touch-popup"),H.style.visibility="hidden",t.appendChild(H));const n={};return{show:l=>{H.innerHTML=l,H.style.visibility="visible",Ve(e.document),n.onShow&&n.onShow(H)},hide:()=>{n.onHide&&n.onHide(H),H.style.visibility="hidden",Fe(e.document)},expand:()=>{n.onExpand&&n.onExpand()},subscribe:(l={})=>{l.onShow&&(n.onShow=l.onShow),l.onHide&&(n.onHide=l.onHide),l.onExpand&&(n.onExpand=l.onExpand)},element:H}},X=(t,e,n)=>{const o=t&&t[e];if(o instanceof Function)try{o.apply(null,n)}catch(i){console.log("Error invoking Wikipedia Preview custom callback",i)}},Ye=(t,e,n)=>{qt(e,t,o=>{n(at(e,o,L))})},Lt=(t,e)=>{const n=[];(typeof t=="string"||t instanceof String)&&Array.prototype.forEach.call(document.querySelectorAll(t),o=>{n.push(o)}),(t instanceof Document||t instanceof Element)&&n.push(t),Array.isArray(t)&&t.forEach(o=>{o instanceof Element&&n.push(o)}),n.forEach(o=>e(o))};let At,F;function Ie({root:t=document,selector:e="[data-wikipedia-preview]",lang:n="en",detectLinks:o=!1,popupContainer:i=document.body,events:s={},debug:r=!1,prefersColorScheme:l="detect"}){const d=n,a=L?_e(i):Ne(i),x=re(a),m={},y=[],c=[];F=l;const f=(p,u=!1)=>{p.preventDefault();const g=Date.now(),{currentTarget:h}=u?m:p,w=u?m.title:decodeURIComponent(h.getAttribute("data-wp-title")||h.textContent),v=u?m.lang:h.getAttribute("data-wp-lang")||d,E=u?m.pointerPosition:{x:p.clientX,y:p.clientY},A=Zt(v);a.element.currentTargetElement===h&&!u||(At=g,a.element.style.visibility==="visible"&&a.hide(),a.loading=!0,a.dir=A,a.show(ee(L,v,A,F),h,E),qt(v,w,b=>{if(g===At&&a.loading){if(a.loading=!1,b){if(a.lang=v,a.title=w,b.type==="standard")a.show(at(v,b,L,F),h,E),X(s,"onShow",[w,v,"standard"]);else if(b.type==="disambiguation"){const S=b.extractHtml?at(v,b,L,F):ne(L,v,b.title,b.dir,F);a.show(S,h,E),X(s,"onShow",[w,v,"disambiguation"])}}else if(Qt())a.show(oe(L,v,w,A,F),h,E),X(s,"onShow",[w,v,"error"]);else{a.show(ie(L,v,A,F),h,E),X(s,"onShow",[w,v,"offline"]);const S=document.querySelector(".wikipediapreview-body-action");m.lang=v,m.title=w,m.pointerPosition=E,m.target=h,S.addEventListener("click",k=>{f(k,!0)})}const O=a.element.querySelector(".wikipediapreview-footer-cta-readonwiki, .wikipediapreview-cta-readonwiki");if(O&&O.addEventListener("click",()=>{X(s,"onWikiRead",[w,v])}),h.tagName==="A"){const S=Jt().split("="),k=new URL(h.href);k.searchParams.set(S[0],S[1]),h.href=k.href}}}))};a.subscribe(x),Lt(t,p=>{Array.prototype.forEach.call(p.querySelectorAll(e),u=>{L?u.addEventListener("click",f):u.addEventListener("mouseenter",f),y.push({text:u.textContent,title:u.getAttribute("data-wp-title")||u.textContent,lang:u.getAttribute("data-wp-lang")||d})})}),o&&Lt(t,p=>{Array.prototype.forEach.call(p.querySelectorAll("a"),u=>{const g=Kt(u.getAttribute("href"));g&&(u.setAttribute("data-wp-title",g.title),u.setAttribute("data-wp-lang",g.lang),L?u.addEventListener("click",f):u.addEventListener("mouseenter",f),c.push({text:u.textContent,title:g.title,lang:g.lang}))})}),r&&(console.group("Wikipedia Preview [debug mode]"),console.group(`Searching for "${e}" inside ${t}, Total links found: ${y.length}`),y.forEach((p,u)=>{console.log(u+1,`${p.text} -> ${tt(p.lang,p.title,L,!1)}`)}),console.groupEnd(),o&&(console.group(`Searching for links to Wikipedia, Total links found: ${c.length}`),c.forEach((p,u)=>{console.log(u+1,`${p.text} -> ${tt(p.lang,p.title,L,!1)}`)}),console.groupEnd()),console.groupEnd())}Wt();const wt={init:Ie,version:Wt,getPreviewHtml:Ye},je={title:"Targets",argTypes:{lang:{name:"Language",control:"select",options:["en","fr","hi","ks","he","sv"]},title:{name:"Article Title",control:"text"}},args:{lang:"en",title:"Cat"}},Q=({lang:t,title:e})=>{const n=document.createElement("div"),o=`<a href="${tt(t,e,!0,!1)}">${e} (${t})</a>`;return n.innerHTML=o,wt.init({root:n,detectLinks:!0}),n},J=({lang:t,title:e})=>{const n=document.createElement("div"),o=`<a href="${tt(t,e,!0,!1)}"><img src="https://upload.wikimedia.org/wikipedia/commons/3/3d/Wikipedia-logo-v2.png"></a>`;return n.innerHTML=o,wt.init({root:n,detectLinks:!0}),n},Z=({lang:t,title:e})=>{const n=document.createElement("div"),o=`<span class="wmf-wp-with-preview" data-wikipedia-preview data-wp-title="${e}">${e} (${t})</span>`;return n.innerHTML=o,wt.init({root:n,lang:t}),n};var Ct,Pt,Ot;Q.parameters={...Q.parameters,docs:{...(Ct=Q.parameters)==null?void 0:Ct.docs,source:{originalSource:`({
  lang,
  title
}) => {
  const container = document.createElement('div');
  const template = \`<a href="\${buildWikipediaUrl(lang, title, true, false)}">\${title} (\${lang})</a>\`;
  container.innerHTML = template;
  wikipediaPreview.init({
    root: container,
    detectLinks: true
  });
  return container;
}`,...(Ot=(Pt=Q.parameters)==null?void 0:Pt.docs)==null?void 0:Ot.source}}};var Rt,Ht,$t;J.parameters={...J.parameters,docs:{...(Rt=J.parameters)==null?void 0:Rt.docs,source:{originalSource:`({
  lang,
  title
}) => {
  const container = document.createElement('div');
  const template = \`<a href="\${buildWikipediaUrl(lang, title, true, false)}"><img src="https://upload.wikimedia.org/wikipedia/commons/3/3d/Wikipedia-logo-v2.png"></a>\`;
  container.innerHTML = template;
  wikipediaPreview.init({
    root: container,
    detectLinks: true
  });
  return container;
}`,...($t=(Ht=J.parameters)==null?void 0:Ht.docs)==null?void 0:$t.source}}};var Dt,Mt,Bt;Z.parameters={...Z.parameters,docs:{...(Dt=Z.parameters)==null?void 0:Dt.docs,source:{originalSource:`({
  lang,
  title
}) => {
  const container = document.createElement('div');
  const template = \`<span class="wmf-wp-with-preview" data-wikipedia-preview data-wp-title="\${title}">\${title} (\${lang})</span>\`;
  container.innerHTML = template;
  wikipediaPreview.init({
    root: container,
    lang
  });
  return container;
}`,...(Bt=(Mt=Z.parameters)==null?void 0:Mt.docs)==null?void 0:Bt.source}}};const Ge=["Hyperlink","Image","Text"];export{Q as Hyperlink,J as Image,Z as Text,Ge as __namedExportsOrder,je as default};
