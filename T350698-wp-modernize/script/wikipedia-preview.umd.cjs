(function(G,R){typeof exports=="object"&&typeof module!="undefined"?module.exports=R():typeof define=="function"&&define.amd?define(R):(G=typeof globalThis!="undefined"?globalThis:G||self,G.wikipediaPreview=R())})(this,function(){"use strict";var Qn=Object.defineProperty;var Ci=Object.getOwnPropertySymbols;var eo=Object.prototype.hasOwnProperty,to=Object.prototype.propertyIsEnumerable;var Mi=(G,R,D)=>R in G?Qn(G,R,{enumerable:!0,configurable:!0,writable:!0,value:D}):G[R]=D,_t=(G,R)=>{for(var D in R||(R={}))eo.call(R,D)&&Mi(G,D,R[D]);if(Ci)for(var D of Ci(R))to.call(R,D)&&Mi(G,D,R[D]);return G};const G=(e,t)=>{const i=new XMLHttpRequest;i.open("GET",e),i.send(),i.addEventListener("load",()=>{t(JSON.parse(i.responseText))}),i.addEventListener("error",()=>{t(!1,i.status)})},R={},D=(e,t,i,o=G)=>{if(R[e]!==void 0){i(R[e]);return}o(e,(r,s)=>{r?i(R[e]=t(r)):i(!1,s)})};/*! @license DOMPurify 3.0.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.6/LICENSE */const{entries:xt,setPrototypeOf:Lt,isFrozen:Oi,getPrototypeOf:Ii,getOwnPropertyDescriptor:kt}=Object;let{freeze:U,seal:J,create:Rt}=Object,{apply:Ke,construct:Je}=typeof Reflect!="undefined"&&Reflect;U||(U=function(t){return t}),J||(J=function(t){return t}),Ke||(Ke=function(t,i,o){return t.apply(i,o)}),Je||(Je=function(t,i){return new t(...i)});const De=K(Array.prototype.forEach),Ct=K(Array.prototype.pop),Ee=K(Array.prototype.push),$e=K(String.prototype.toLowerCase),Qe=K(String.prototype.toString),Ni=K(String.prototype.match),Te=K(String.prototype.replace),Di=K(String.prototype.indexOf),$i=K(String.prototype.trim),X=K(RegExp.prototype.test),be=Pi(TypeError);function K(e){return function(t){for(var i=arguments.length,o=new Array(i>1?i-1:0),r=1;r<i;r++)o[r-1]=arguments[r];return Ke(e,t,o)}}function Pi(e){return function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return Je(e,i)}}function w(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$e;Lt&&Lt(e,null);let o=t.length;for(;o--;){let r=t[o];if(typeof r=="string"){const s=i(r);s!==r&&(Oi(t)||(t[o]=s),r=s)}e[r]=!0}return e}function pe(e){const t=Rt(null);for(const[i,o]of xt(e))kt(e,i)!==void 0&&(t[i]=o);return t}function Pe(e,t){for(;e!==null;){const o=kt(e,t);if(o){if(o.get)return K(o.get);if(typeof o.value=="function")return K(o.value)}e=Ii(e)}function i(o){return console.warn("fallback value for",o),null}return i}const Mt=U(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),et=U(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),tt=U(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Hi=U(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),it=U(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ui=U(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ot=U(["#text"]),It=U(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),nt=U(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Nt=U(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),He=U(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Fi=J(/\{\{[\w\W]*|[\w\W]*\}\}/gm),qi=J(/<%[\w\W]*|[\w\W]*%>/gm),Bi=J(/\${[\w\W]*}/gm),Wi=J(/^data-[\-\w.\u00B7-\uFFFF]/),Yi=J(/^aria-[\-\w]+$/),Dt=J(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),zi=J(/^(?:\w+script|data):/i),Gi=J(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$t=J(/^html$/i);var Pt=Object.freeze({__proto__:null,MUSTACHE_EXPR:Fi,ERB_EXPR:qi,TMPLIT_EXPR:Bi,DATA_ATTR:Wi,ARIA_ATTR:Yi,IS_ALLOWED_URI:Dt,IS_SCRIPT_OR_DATA:zi,ATTR_WHITESPACE:Gi,DOCTYPE_NAME:$t});const Xi=function(){return typeof window=="undefined"?null:window},ji=function(t,i){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let o=null;const r="data-tt-policy-suffix";i&&i.hasAttribute(r)&&(o=i.getAttribute(r));const s="dompurify"+(o?"#"+o:"");try{return t.createPolicy(s,{createHTML(f){return f},createScriptURL(f){return f}})}catch(f){return console.warn("TrustedTypes policy "+s+" could not be created."),null}};function Ht(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Xi();const t=p=>Ht(p);if(t.version="3.0.6",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;let{document:i}=e;const o=i,r=o.currentScript,{DocumentFragment:s,HTMLTemplateElement:f,Node:m,Element:g,NodeFilter:v,NamedNodeMap:T=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:M,DOMParser:te,trustedTypes:d}=e,l=g.prototype,E=Pe(l,"cloneNode"),A=Pe(l,"nextSibling"),b=Pe(l,"childNodes"),_=Pe(l,"parentNode");if(typeof f=="function"){const p=i.createElement("template");p.content&&p.content.ownerDocument&&(i=p.content.ownerDocument)}let y,x="";const{implementation:j,createNodeIterator:ee,createDocumentFragment:$,getElementsByTagName:V}=i,{importNode:Z}=o;let q={};t.isSupported=typeof xt=="function"&&typeof _=="function"&&j&&j.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:se,ERB_EXPR:ze,TMPLIT_EXPR:Me,DATA_ATTR:qn,ARIA_ATTR:Bn,IS_SCRIPT_OR_DATA:Wn,ATTR_WHITESPACE:ri}=Pt;let{IS_ALLOWED_URI:si}=Pt,O=null;const ai=w({},[...Mt,...et,...tt,...it,...Ot]);let I=null;const li=w({},[...It,...nt,...Nt,...He]);let L=Object.seal(Rt(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Oe=null,mt=null,ci=!0,gt=!0,di=!1,ui=!0,me=!1,le=!1,ht=!1,yt=!1,ge=!1,Ge=!1,Xe=!1,pi=!0,fi=!1;const Yn="user-content-";let wt=!0,Ie=!1,he={},ye=null;const mi=w({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let gi=null;const hi=w({},["audio","video","img","source","image","track"]);let vt=null;const yi=w({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),je="http://www.w3.org/1998/Math/MathML",Ve="http://www.w3.org/2000/svg",ie="http://www.w3.org/1999/xhtml";let we=ie,Et=!1,Tt=null;const zn=w({},[je,Ve,ie],Qe);let ce=null;const Gn=["application/xhtml+xml","text/html"],Xn="text/html";let N=null,ve=null;const jn=i.createElement("form"),wi=function(n){return n instanceof RegExp||n instanceof Function},bt=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ve&&ve===n)){if((!n||typeof n!="object")&&(n={}),n=pe(n),ce=Gn.indexOf(n.PARSER_MEDIA_TYPE)===-1?ce=Xn:ce=n.PARSER_MEDIA_TYPE,N=ce==="application/xhtml+xml"?Qe:$e,O="ALLOWED_TAGS"in n?w({},n.ALLOWED_TAGS,N):ai,I="ALLOWED_ATTR"in n?w({},n.ALLOWED_ATTR,N):li,Tt="ALLOWED_NAMESPACES"in n?w({},n.ALLOWED_NAMESPACES,Qe):zn,vt="ADD_URI_SAFE_ATTR"in n?w(pe(yi),n.ADD_URI_SAFE_ATTR,N):yi,gi="ADD_DATA_URI_TAGS"in n?w(pe(hi),n.ADD_DATA_URI_TAGS,N):hi,ye="FORBID_CONTENTS"in n?w({},n.FORBID_CONTENTS,N):mi,Oe="FORBID_TAGS"in n?w({},n.FORBID_TAGS,N):{},mt="FORBID_ATTR"in n?w({},n.FORBID_ATTR,N):{},he="USE_PROFILES"in n?n.USE_PROFILES:!1,ci=n.ALLOW_ARIA_ATTR!==!1,gt=n.ALLOW_DATA_ATTR!==!1,di=n.ALLOW_UNKNOWN_PROTOCOLS||!1,ui=n.ALLOW_SELF_CLOSE_IN_ATTR!==!1,me=n.SAFE_FOR_TEMPLATES||!1,le=n.WHOLE_DOCUMENT||!1,ge=n.RETURN_DOM||!1,Ge=n.RETURN_DOM_FRAGMENT||!1,Xe=n.RETURN_TRUSTED_TYPE||!1,yt=n.FORCE_BODY||!1,pi=n.SANITIZE_DOM!==!1,fi=n.SANITIZE_NAMED_PROPS||!1,wt=n.KEEP_CONTENT!==!1,Ie=n.IN_PLACE||!1,si=n.ALLOWED_URI_REGEXP||Dt,we=n.NAMESPACE||ie,L=n.CUSTOM_ELEMENT_HANDLING||{},n.CUSTOM_ELEMENT_HANDLING&&wi(n.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(L.tagNameCheck=n.CUSTOM_ELEMENT_HANDLING.tagNameCheck),n.CUSTOM_ELEMENT_HANDLING&&wi(n.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(L.attributeNameCheck=n.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),n.CUSTOM_ELEMENT_HANDLING&&typeof n.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(L.allowCustomizedBuiltInElements=n.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),me&&(gt=!1),Ge&&(ge=!0),he&&(O=w({},[...Ot]),I=[],he.html===!0&&(w(O,Mt),w(I,It)),he.svg===!0&&(w(O,et),w(I,nt),w(I,He)),he.svgFilters===!0&&(w(O,tt),w(I,nt),w(I,He)),he.mathMl===!0&&(w(O,it),w(I,Nt),w(I,He))),n.ADD_TAGS&&(O===ai&&(O=pe(O)),w(O,n.ADD_TAGS,N)),n.ADD_ATTR&&(I===li&&(I=pe(I)),w(I,n.ADD_ATTR,N)),n.ADD_URI_SAFE_ATTR&&w(vt,n.ADD_URI_SAFE_ATTR,N),n.FORBID_CONTENTS&&(ye===mi&&(ye=pe(ye)),w(ye,n.FORBID_CONTENTS,N)),wt&&(O["#text"]=!0),le&&w(O,["html","head","body"]),O.table&&(w(O,["tbody"]),delete Oe.tbody),n.TRUSTED_TYPES_POLICY){if(typeof n.TRUSTED_TYPES_POLICY.createHTML!="function")throw be('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof n.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw be('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');y=n.TRUSTED_TYPES_POLICY,x=y.createHTML("")}else y===void 0&&(y=ji(d,r)),y!==null&&typeof x=="string"&&(x=y.createHTML(""));U&&U(n),ve=n}},vi=w({},["mi","mo","mn","ms","mtext"]),Ei=w({},["foreignobject","desc","title","annotation-xml"]),Vn=w({},["title","style","font","a","script"]),Ze=w({},et);w(Ze,tt),w(Ze,Hi);const St=w({},it);w(St,Ui);const Zn=function(n){let a=_(n);(!a||!a.tagName)&&(a={namespaceURI:we,tagName:"template"});const u=$e(n.tagName),S=$e(a.tagName);return Tt[n.namespaceURI]?n.namespaceURI===Ve?a.namespaceURI===ie?u==="svg":a.namespaceURI===je?u==="svg"&&(S==="annotation-xml"||vi[S]):!!Ze[u]:n.namespaceURI===je?a.namespaceURI===ie?u==="math":a.namespaceURI===Ve?u==="math"&&Ei[S]:!!St[u]:n.namespaceURI===ie?a.namespaceURI===Ve&&!Ei[S]||a.namespaceURI===je&&!vi[S]?!1:!St[u]&&(Vn[u]||!Ze[u]):!!(ce==="application/xhtml+xml"&&Tt[n.namespaceURI]):!1},de=function(n){Ee(t.removed,{element:n});try{n.parentNode.removeChild(n)}catch(a){n.remove()}},At=function(n,a){try{Ee(t.removed,{attribute:a.getAttributeNode(n),from:a})}catch(u){Ee(t.removed,{attribute:null,from:a})}if(a.removeAttribute(n),n==="is"&&!I[n])if(ge||Ge)try{de(a)}catch(u){}else try{a.setAttribute(n,"")}catch(u){}},Ti=function(n){let a=null,u=null;if(yt)n="<remove></remove>"+n;else{const H=Ni(n,/^[\r\n\t ]+/);u=H&&H[0]}ce==="application/xhtml+xml"&&we===ie&&(n='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+n+"</body></html>");const S=y?y.createHTML(n):n;if(we===ie)try{a=new te().parseFromString(S,ce)}catch(H){}if(!a||!a.documentElement){a=j.createDocument(we,"template",null);try{a.documentElement.innerHTML=Et?x:S}catch(H){}}const P=a.body||a.documentElement;return n&&u&&P.insertBefore(i.createTextNode(u),P.childNodes[0]||null),we===ie?V.call(a,le?"html":"body")[0]:le?a.documentElement:P},bi=function(n){return ee.call(n.ownerDocument||n,n,v.SHOW_ELEMENT|v.SHOW_COMMENT|v.SHOW_TEXT,null)},Kn=function(n){return n instanceof M&&(typeof n.nodeName!="string"||typeof n.textContent!="string"||typeof n.removeChild!="function"||!(n.attributes instanceof T)||typeof n.removeAttribute!="function"||typeof n.setAttribute!="function"||typeof n.namespaceURI!="string"||typeof n.insertBefore!="function"||typeof n.hasChildNodes!="function")},Si=function(n){return typeof m=="function"&&n instanceof m},ne=function(n,a,u){q[n]&&De(q[n],S=>{S.call(t,a,u,ve)})},Ai=function(n){let a=null;if(ne("beforeSanitizeElements",n,null),Kn(n))return de(n),!0;const u=N(n.nodeName);if(ne("uponSanitizeElement",n,{tagName:u,allowedTags:O}),n.hasChildNodes()&&!Si(n.firstElementChild)&&X(/<[/\w]/g,n.innerHTML)&&X(/<[/\w]/g,n.textContent))return de(n),!0;if(!O[u]||Oe[u]){if(!Oe[u]&&xi(u)&&(L.tagNameCheck instanceof RegExp&&X(L.tagNameCheck,u)||L.tagNameCheck instanceof Function&&L.tagNameCheck(u)))return!1;if(wt&&!ye[u]){const S=_(n)||n.parentNode,P=b(n)||n.childNodes;if(P&&S){const H=P.length;for(let Y=H-1;Y>=0;--Y)S.insertBefore(E(P[Y],!0),A(n))}}return de(n),!0}return n instanceof g&&!Zn(n)||(u==="noscript"||u==="noembed"||u==="noframes")&&X(/<\/no(script|embed|frames)/i,n.innerHTML)?(de(n),!0):(me&&n.nodeType===3&&(a=n.textContent,De([se,ze,Me],S=>{a=Te(a,S," ")}),n.textContent!==a&&(Ee(t.removed,{element:n.cloneNode()}),n.textContent=a)),ne("afterSanitizeElements",n,null),!1)},_i=function(n,a,u){if(pi&&(a==="id"||a==="name")&&(u in i||u in jn))return!1;if(!(gt&&!mt[a]&&X(qn,a))){if(!(ci&&X(Bn,a))){if(!I[a]||mt[a]){if(!(xi(n)&&(L.tagNameCheck instanceof RegExp&&X(L.tagNameCheck,n)||L.tagNameCheck instanceof Function&&L.tagNameCheck(n))&&(L.attributeNameCheck instanceof RegExp&&X(L.attributeNameCheck,a)||L.attributeNameCheck instanceof Function&&L.attributeNameCheck(a))||a==="is"&&L.allowCustomizedBuiltInElements&&(L.tagNameCheck instanceof RegExp&&X(L.tagNameCheck,u)||L.tagNameCheck instanceof Function&&L.tagNameCheck(u))))return!1}else if(!vt[a]){if(!X(si,Te(u,ri,""))){if(!((a==="src"||a==="xlink:href"||a==="href")&&n!=="script"&&Di(u,"data:")===0&&gi[n])){if(!(di&&!X(Wn,Te(u,ri,"")))){if(u)return!1}}}}}}return!0},xi=function(n){return n.indexOf("-")>0},Li=function(n){ne("beforeSanitizeAttributes",n,null);const{attributes:a}=n;if(!a)return;const u={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:I};let S=a.length;for(;S--;){const P=a[S],{name:H,namespaceURI:Y,value:ue}=P,Ne=N(H);let z=H==="value"?ue:$i(ue);if(u.attrName=Ne,u.attrValue=z,u.keepAttr=!0,u.forceKeepAttr=void 0,ne("uponSanitizeAttribute",n,u),z=u.attrValue,u.forceKeepAttr||(At(H,n),!u.keepAttr))continue;if(!ui&&X(/\/>/i,z)){At(H,n);continue}me&&De([se,ze,Me],Ri=>{z=Te(z,Ri," ")});const ki=N(n.nodeName);if(_i(ki,Ne,z)){if(fi&&(Ne==="id"||Ne==="name")&&(At(H,n),z=Yn+z),y&&typeof d=="object"&&typeof d.getAttributeType=="function"&&!Y)switch(d.getAttributeType(ki,Ne)){case"TrustedHTML":{z=y.createHTML(z);break}case"TrustedScriptURL":{z=y.createScriptURL(z);break}}try{Y?n.setAttributeNS(Y,H,z):n.setAttribute(H,z),Ct(t.removed)}catch(Ri){}}}ne("afterSanitizeAttributes",n,null)},Jn=function p(n){let a=null;const u=bi(n);for(ne("beforeSanitizeShadowDOM",n,null);a=u.nextNode();)ne("uponSanitizeShadowNode",a,null),!Ai(a)&&(a.content instanceof s&&p(a.content),Li(a));ne("afterSanitizeShadowDOM",n,null)};return t.sanitize=function(p){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=null,u=null,S=null,P=null;if(Et=!p,Et&&(p="<!-->"),typeof p!="string"&&!Si(p))if(typeof p.toString=="function"){if(p=p.toString(),typeof p!="string")throw be("dirty is not a string, aborting")}else throw be("toString is not a function");if(!t.isSupported)return p;if(ht||bt(n),t.removed=[],typeof p=="string"&&(Ie=!1),Ie){if(p.nodeName){const ue=N(p.nodeName);if(!O[ue]||Oe[ue])throw be("root node is forbidden and cannot be sanitized in-place")}}else if(p instanceof m)a=Ti("<!---->"),u=a.ownerDocument.importNode(p,!0),u.nodeType===1&&u.nodeName==="BODY"||u.nodeName==="HTML"?a=u:a.appendChild(u);else{if(!ge&&!me&&!le&&p.indexOf("<")===-1)return y&&Xe?y.createHTML(p):p;if(a=Ti(p),!a)return ge?null:Xe?x:""}a&&yt&&de(a.firstChild);const H=bi(Ie?p:a);for(;S=H.nextNode();)Ai(S)||(S.content instanceof s&&Jn(S.content),Li(S));if(Ie)return p;if(ge){if(Ge)for(P=$.call(a.ownerDocument);a.firstChild;)P.appendChild(a.firstChild);else P=a;return(I.shadowroot||I.shadowrootmode)&&(P=Z.call(o,P,!0)),P}let Y=le?a.outerHTML:a.innerHTML;return le&&O["!doctype"]&&a.ownerDocument&&a.ownerDocument.doctype&&a.ownerDocument.doctype.name&&X($t,a.ownerDocument.doctype.name)&&(Y="<!DOCTYPE "+a.ownerDocument.doctype.name+`>
`+Y),me&&De([se,ze,Me],ue=>{Y=Te(Y,ue," ")}),y&&Xe?y.createHTML(Y):Y},t.setConfig=function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};bt(p),ht=!0},t.clearConfig=function(){ve=null,ht=!1},t.isValidAttribute=function(p,n,a){ve||bt({});const u=N(p),S=N(n);return _i(u,S,a)},t.addHook=function(p,n){typeof n=="function"&&(q[p]=q[p]||[],Ee(q[p],n))},t.removeHook=function(p){if(q[p])return Ct(q[p])},t.removeHooks=function(p){q[p]&&(q[p]=[])},t.removeAllHooks=function(){q={}},t}var Vi=Ht();const Zi=e=>{let i=e;for(let o=0;o<5;o++){const r=decodeURIComponent(i);if(r===i)return r;i=r}return i},Ki=e=>{const t=[/^https?:\/\/(\w+)(\.m)?\.wikipedia\.org\/wiki\/([^#?]+)/,/^https?:\/\/(\w+)(\.m)?\.wikipedia\.org\/w\/index.php\?title=([^#&]+)/];for(let i=0;i<t.length;i++){const o=t[i].exec(e);if(o)return{lang:o[1],mobile:!!o[2],title:Zi(o[3])}}return null},F="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,Ut=()=>window.navigator.onLine,Ft=e=>["ar","arc","arz","dv","fa","ha","he","khw","ks","ku","ps","ur","yi","pnb","ckb","mzn","glk","ug","sd","azb","lrc"].indexOf(e)===-1?"ltr":"rtl",Ji={format:"json",formatversion:2,origin:"*"},qt=(e,t)=>(t=_t(_t({},Ji),t),`https://${e}.wikipedia.org/w/api.php`+"?"+Object.keys(t).map(o=>`${o}=${encodeURIComponent(t[o])}`).join("&")),Qi=e=>e.replace(/https:\/\/(.*?)\./,t=>t+"m."),Bt=e=>{const t=new window.DOMParser().parseFromString(e,"text/html");for(const i of t.querySelectorAll("span"))i.style.display==="none"&&i.remove();return t.body.textContent||""},en=e=>Vi.sanitize(e),Wt=()=>({height:window.innerHeight,width:window.innerWidth}),Ue=()=>"wprov=wppw2"+(F?"t":""),Fe=(e,t,i,o=!0)=>`https://${e}${i?".m":""}.wikipedia.org/wiki/${encodeURIComponent(t)}${o?`?${Ue()}`:""}`,Yt=()=>{console.log("Wikipedia Preview - version 1.8.0 (45f6bdb)")},zt=(...e)=>{console.error.apply(console,e)},Se={en:{"continue-reading":"Continue Reading","gallery-loading-error":"There was an error loading this image","gallery-loading-error-offline":"No internet connection available.","gallery-loading-error-refresh":"Refresh","gallery-loading-still":"Still loading","gallery-unknown-author":"Author unknown","preview-error-message":"There was an issue while displaying this preview.","preview-console-error-message":"Preview unavailable for article '$1' (Language: $2)","read-on-wiki":"Read on Wikipedia","read-more":"Read more on Wikipedia","preview-disambiguation-message":"Title <strong>$1</strong> is related to more than one article on Wikipedia.","preview-offline-message":"No internet connection available.","preview-offline-cta":"Try again"}},B=(e,t,...i)=>{if(!Se[e])try{Se[e]=require(`../i18n/${e}.json`)}catch(r){Se[e]={}}let o=Se[e][t]||Se.en[t]||t;return i.forEach((r,s)=>{o=o.replace(new RegExp(`\\$${s+1}`,"g"),r)}),o},tn=(e,t,i,o=D)=>{const s=qt(e,{action:"query",prop:"extracts|pageimages",exsentences:4,explaintext:1,exsectionformat:"plain",piprop:"thumbnail",pilimit:1,titles:t})+"&"+Ue();o(s,f=>{const m=f.query.pages[Object.keys(f.query.pages)[0]];return m.extract?{title:t,extractHtml:"<p>"+m.extract+"</p>",imgUrl:m.thumbnail?m.thumbnail.source:null,dir:Ft(e),type:"standard"}:!1},i)},nn=(e,t,i,o=D)=>{const r=`https://${e}.wikipedia.org/api/rest_v1/page/summary/${encodeURIComponent(t)}?${Ue()}`;o(r,(s,f)=>s?s.type==="standard"||s.type==="disambiguation"?{title:s.titles.canonical,extractHtml:en(s.extract_html),imgUrl:s.thumbnail?s.thumbnail.source:null,dir:s.dir,type:s.type}:s.type==="no-extract"&&s.description?{title:s.titles.canonical,extractHtml:"<p>"+s.description+"</p>",imgUrl:s.thumbnail?s.thumbnail.source:null,dir:s.dir,type:"standard"}:(zt(B(e,"preview-console-error-message",t,e),s),!1):(zt(B(e,"preview-console-error-message",t,e),f),!1),i)},Gt=(e,t,i,o=D)=>t.indexOf(":")===-1?nn(e,t,i,o):tn(e,t,i,o),on=(e,t,i,o=D)=>{const r=`https://${e}.wikipedia.org/api/rest_v1/page/media-list/${encodeURIComponent(t)}`;o(r,s=>(s.items||[]).reduce((g,v)=>{if(v.showInGallery&&v.type==="image"){const T=v&&v.srcset&&`https:${v.srcset[0].src}`,M={caption:v.caption&&v.caption.text.trim(),thumb:T,title:v.title};return g.concat(M)}return g},[]),i)},rn=(e,t,i,o=D)=>{const r={action:"query",prop:"imageinfo",iiextmetadatafilter:"License|LicenseShortName|ImageDescription|Artist",iiextmetadatalanguage:e,iiextmetadatamultilang:1,iiurlwidth:Wt().width,iiurlheight:Wt().height,iiprop:"url|extmetadata",titles:t},s=qt(e,r);o(s,f=>{const g=f.query.pages[0].imageinfo;if(!g)return{};const{Artist:v,ImageDescription:T,LicenseShortName:M}=g[0].extmetadata,te=v&&Bt(v.value),d=T&&Bt(typeof T.value=="string"&&T.value||T.value[e]||T.value[Object.keys(T.value)[0]]),l=g[0].thumburl;return{author:te,description:d,license:M&&M.value,filePage:Qi(g[0].descriptionshorturl),bestFitImageUrl:l}},i)},qe=1,Xt=2,Ae=window.innerWidth,ot=window.innerHeight,c={screenX:null,originalMarginLeft:null,currentMarginLeft:null,originalTransition:null,imgOriginalTransition:null,durationStart:null,translateX:0,translateY:0,clientX:null,clientY:null,imageRect:{}},k=[];let _e=-1,xe=!1;const Le=e=>e.target.nodeName==="IMG"?e.target:e.target.querySelector("img"),jt=e=>e?Number(e.slice(e.indexOf("scale")+6,-1)):qe,sn=e=>{const i=new RegExp("translate3d\\((?<x>.*?)px, (?<y>.*?)px, (?<z>.*?)px").exec(e);return i?`translate3d(${i.groups.x}px, ${i.groups.y}px, 0px)`:`translate3d(${c.translateX}px, ${c.translateY}px, 0px)`},rt=(e,t)=>{const o=[`${t}-item-caption`,`${t}-item-caption-expand-cue`,`${t}-item-caption-text`,`${t}-item-attribution`,`${t}-button`].find(r=>e.target.className.indexOf(r)>-1);return e.pointerType!=="touch"||o},Be=()=>xe,st=e=>e.naturalHeight<=e.naturalWidth,an=e=>e.naturalWidth+50<Ae,at=()=>k.length,ln=(e,t=null)=>{const i={},o=()=>t.clientY>e.naturalHeight&&!st(e)?e.naturalHeight:t.clientY;return k.length===2?(i.x=(k[0].clientX+k[1].clientX)/2,i.y=(k[0].clientY+k[1].clientY)/2):(i.x=t.clientX,i.y=o()),i},Vt=(e,t)=>{const i=ln(e,t);return st(e)?i.y=i.y-e.naturalHeight:an(e)&&(i.x=e.naturalWidth/2,i.y=e.naturalHeight/2),`${i.x}px ${i.y}px`},cn=e=>{for(let t=0;t<k.length;t++)if(k[t].pointerId===e.pointerId){k.splice(t,1);break}},Zt=e=>{e&&(e.style.transition=c.imgOriginalTransition,e.style.transform=`scale(${qe})`,xe=!1,c.translateX=0,c.translateY=0)},dn=e=>{const t=Le(e);c.clientX=null,c.clientY=null,c.translateX=0,c.translateY=0,t.style.transformOrigin=Vt(t,e),Be()?(t.style.transform=`scale(${qe})`,xe=!1):(t.style.transform=`scale(${Xt})`,xe=!0)},un=e=>{const t=Le(e);if(!t)return;const i=t.getBoundingClientRect();if(c.imageRect.top=i.top,c.imageRect.bottom=i.bottom,c.imageRect.left=i.left,c.imageRect.right=i.right,k.length<1){const o=window.getComputedStyle(t);c.imgOriginalTransition=o.transition}k.push(e)},pn=e=>{const t=Le(e),i=t.style.transform,o=.01,r=.4;let s=jt(i);const f=sn(i);for(let m=0;m<k.length;m++)if(e.pointerId===k[m].pointerId){k[m]=e;break}if(k.length===2){const m=Math.abs(k[0].clientX-k[1].clientX),g=Math.abs(k[0].clientY-k[1].clientY),v=Math.sqrt(Math.pow(m,2)+Math.pow(g,2));_e>0&&(t.style.transformOrigin=Vt(t),t.style.transition="unset",v>_e&&(xe=!0,s+o<Xt&&(s+=o,t.style.transform=`${f} scale(${s})`)),v<_e&&(s-o>qe+r?(s-=o,t.style.transform=`${f} scale(${s})`):Zt(t))),_e=v}},fn=(e,t,i,o,r)=>{const s=Le(e);if(!s)return;const f=s.style.transform,m=jt(f),g=Ae/8,v=Ae-g,T=st(s)?ot/4:ot/8,M=ot-T,te=80;s.style.transition="unset",(!c.clientX||!c.clientY)&&(c.clientX=e.clientX,c.clientY=e.clientY);const d=c.translateX+(e.clientX-c.clientX),l=c.translateY+(e.clientY-c.clientY),E=l-c.translateY>=0,A=d-c.translateX>=0,b=()=>{const x=c.imageRect.left<g&&A||c.imageRect.right>v&&!A,j=c.imageRect.top<T&&E||c.imageRect.bottom>M&&!E;return x&&j},_=()=>{c.imageRect.top=c.imageRect.top+(l-c.translateY),c.imageRect.bottom=c.imageRect.bottom+(l-c.translateY),c.imageRect.left=c.imageRect.left+(d-c.translateX),c.imageRect.right=c.imageRect.right+(d-c.translateX),c.translateX=d,c.translateY=l,c.clientX=e.clientX,c.clientY=e.clientY},y=Math.abs(d)-Math.abs(c.translateX)>te;if(b())_(),s.style.transform=`translate3d(${d}px, ${l}px, 0px) scale(${m})`;else if(y){const x=r==="ltr"&&d<0||r==="rtl"&&d>0;!x&&i[o-1]?t(-1):x&&i[o+1]&&t(1)}},mn=e=>{const t=Le(e);t&&(t.style.transition=c.imgOriginalTransition),cn(e),c.clientX=null,c.clientY=null,k.length<2&&(_e=-1)},gn=(e,t,i)=>{const o=window.getComputedStyle(t);c.durationStart=Date.now(),c.screenX=e.clientX,c.originalMarginLeft=+o[i].slice(0,-2),c.currentMarginLeft=+o[i].slice(0,-2),c.originalTransition=o.transition,t.style.transition="unset"},hn=(e,t,i,o)=>{const s=e.clientX-c.screenX;c.currentMarginLeft=c.originalMarginLeft+s*(o==="ltr"?1:-1),t.style[i]=c.currentMarginLeft+"px",e.preventDefault()},yn=(e,t,i,o,r)=>{const s=c.originalMarginLeft-c.currentMarginLeft,f=Date.now()-c.durationStart;Math.abs(s/Ae)>.4||f<=300&&Math.abs(s)>5?i(s>0?1:-1):t.style[o]=-Ae*r+"px"};let lt=[];const Kt=(e,t,i,o=void 0)=>{e.addEventListener(t,i,o),lt.push([e,t,i,o])},wn=()=>{lt.forEach(e=>{const[t,i,o,r]=e;t.removeEventListener(i,o,r)}),lt=[]};let W=0,oe="",We,ct,ae;const Ye=window.innerWidth,h="wp-gallery-fullscreen-slider",vn=(e,t,i,o=[],r="")=>{const s=o.map(()=>`
		<div class="${h}-item">
				<div class="${h}-item-loading">
						<div class="${h}-item-loading-spinner">
								<div class="${h}-item-loading-spinner-animation">
										<div class="${h}-item-loading-spinner-animation-bounce"></div>
								</div>
						</div>
						<div class="${h}-item-loading-text">${B(e,"gallery-loading-still")}</div>
				</div>
				<div class="${h}-item-loading-error">
					<div class="${h}-item-loading-error-text">${B(e,"gallery-loading-error")}</div>
					<div class="${h}-item-loading-error-refresh">${B(e,"gallery-loading-error-refresh")}</div>
				</div>
		</div>
		`.trim()).join("");return o.some((f,m)=>f.thumb===r?(W=m,!0):!1),oe=t,We=e,ct=o,ae=i,`
		<div class="${h}" style="${oe==="ltr"?"margin-left":"margin-right"}:-${W*Ye}px">
				<div class="${h}-button previous"></div>
				<div class="${h}-button next"></div>
				${s}
		</div>
		`.trim()},En=(e,t)=>{const i=()=>e.description?e.description:t.caption?t.caption:"",o=g=>{const v=["CC","BY","SA","Fair","Public"];let T="";return v.forEach(M=>{g&&g.indexOf(M)!==-1&&(T+=`<div class="${h}-item-attribution-info-${M.toLowerCase()}"></div>`)}),T},r=e.author?e.author:B(We,"gallery-unknown-author"),s=e.filePage,f=i();return`
		<div class="${h}-item-caption">
			${(()=>Ye<400&&f.length>128?!0:Ye>400&&f.length>142)()?`<div class="${h}-item-caption-expand-cue"></div>`:""}
			${f?`<div class="${h}-item-caption-text"><bdi>${f}</bdi></div>`:""}
		</div>
		<div class="${h}-item-attribution">
			<div class="${h}-item-attribution-info">
				${o(e.license)}
				${r?`<bdi class="${h}-item-attribution-info-author">${r}</bdi>`:""}
			</div>
			${s?`<div class="${h}-item-attribution-more-info">
				<a href="${s}" class="${h}-item-attribution-more-info-link" target="_blank"></a>
			</div>`:""}
		</div>
	`.trim()},Jt=(e,t=!1)=>{const i=e.querySelector("img"),o=e.querySelector(`.${h}-item-loading`),r=e.querySelector(`.${h}-item-loading-error`);if(t&&(ae.querySelector(`.${h}`).querySelectorAll(`.${h}-item`).forEach(m=>{const g=m.querySelector("img"),v=m.querySelector(`.${h}-item-caption`),T=m.querySelector(`.${h}-item-attribution`);g&&m.removeChild(g),v&&m.removeChild(v),T&&m.removeChild(T)}),re(0,!0),o.style.visibility="visible",r.style.visibility="hidden"),i.complete)o.style.visibility="hidden",r.style.visibility="hidden",i.style.visibility="visible";else{const s=e.querySelector(`.${h}-item-loading-text`),f=setTimeout(()=>{s.style.visibility="visible"},5e3);i.addEventListener("load",()=>{o.style.visibility="hidden",r.style.visibility="hidden",s.style.visibility="hidden",clearTimeout(f)}),i.addEventListener("error",()=>{const m=e.querySelector(`.${h}-item-loading-error-refresh`);if(o.style.visibility="hidden",i.style.visibility="hidden",!Ut()){const g=e.querySelector(`.${h}-item-loading-error-text`);g.innerText=B(We,"gallery-loading-error-offline"),r.classList.add("offline")}r.style.visibility="visible",clearTimeout(f),m.addEventListener("click",()=>{Jt(e,!0)})})}},Qt=(e,t=!1)=>{const i=e.querySelector(`.${h}-item-caption-text`),o=e.querySelector(`.${h}-item-caption-expand-cue`),r=e.querySelector(".expanded");o&&r||t&&o?(o.classList.remove("expanded"),i.style.maxHeight="80px"):o&&(o.classList.add("expanded"),i.style.maxHeight="241px")},dt=(e,t=!1)=>{const r=ae.querySelector(`.${h}`).querySelectorAll(`.${h}-item`)[e];r&&rn(We,ct[e].title,s=>{const f=r.querySelector("img"),m=r.querySelector(`.${h}-item-caption`);f||(t?r.insertAdjacentHTML("beforeend",`<img src="${s.bestFitImageUrl}?timestamp=${Date.now()}"/>`):r.insertAdjacentHTML("beforeend",`<img src="${s.bestFitImageUrl}"/>`),Jt(r)),m||(r.insertAdjacentHTML("beforeend",En(s,ct[e])),r.querySelector(`.${h}-item-caption`).addEventListener("click",()=>{Qt(r)}))})},re=(e=1,t=!1)=>{const i=ae.querySelector(`.${h}`),o=i.querySelectorAll(`.${h}-item`),r=i.querySelector(".next"),s=i.querySelector(".previous"),f=W+e,m=o[f],g=o[W].querySelector("img");m&&(Qt(o[W],!0),W+=e,r.style.opacity=W===o.length-1?"0.5":"1",s.style.opacity=W===0?"0.5":"1",Zt(g),dt(W,t),dt(W+1,t),dt(W-1,t)),i.style[oe==="ltr"?"marginLeft":"marginRight"]=-Ye*W+"px"},ut=()=>{re(-1)},Tn=()=>{const e=ae.querySelector(`.${h}`),t=oe==="ltr"?"marginLeft":"marginRight",i=e.querySelectorAll(`.${h}-item`);e.addEventListener("pointerdown",o=>{rt(o,h)||(un(o),at()===1&&!Be()&&gn(o,e,t))}),e.addEventListener("pointermove",o=>{rt(o,h)||(at()>1?pn(o):Be()?fn(o,re,i,W,oe):hn(o,e,t,oe))}),e.addEventListener("pointerout",o=>{rt(o,h)||(e.style.transition=c.originalTransition,at()===1&&!Be()&&yn(o,e,re,t,W),mn(o))})},bn=()=>{ae.querySelector(".wp-gallery-fullscreen").classList.toggle("wp-gallery-fullscreen-focus-mode")},Sn=()=>{const e=ae.querySelector(`.${h}`),t=e.querySelectorAll(`.${h}-item`),i=e.querySelector(".next"),o=e.querySelector(".previous");let r=!1;re(0),Tn(),e.addEventListener("click",s=>{(s.target.className===`${h}-item`||s.target.tagName==="IMG")&&(r?(clearTimeout(r),r=null,dn(s)):r=setTimeout(()=>{r=null,bn()},300))}),t.length===1?(o.style.visibility="hidden",i.style.visibility="hidden"):(i.addEventListener("click",()=>{re()}),o.addEventListener("click",()=>{ut()}),Kt(window,"keydown",({key:s})=>{switch(s){case"ArrowRight":case"Right":oe==="ltr"?re():ut();break;case"ArrowLeft":case"Left":oe==="ltr"?ut():re();break}}))},fe="wp-gallery-fullscreen",An=(e,t)=>`
		<div class="${fe}" lang="${e}" dir="${t}">
			<div class="${fe}-close"></div>
			<div class="${fe}-main"></div>
		</div>
	`.trim(),ei=e=>{const t=e.querySelector(`.${fe}`);e.removeChild(t),wn()},_n=(e,t,i,o,r=document.body)=>{r.insertAdjacentHTML("beforeend",An(i,o)),r.querySelector(`.${fe}-main`).insertAdjacentHTML("beforeend",vn(i,o,r,e,t)),r.querySelector(`.${fe}-close`).addEventListener("click",()=>{ei(r)}),Kt(window,"keydown",({key:f})=>{(f==="Escape"||f==="Esc")&&ei(r)}),Sn()},xn=(e,t)=>{const i=document.createElement("div");return i.classList.add("wikipediapreview-gallery-row"),e.forEach(o=>{const r=document.createElement("div");r.classList.add("wikipediapreview-gallery-image"),r.style.backgroundImage=`url(${o.thumb})`,r.addEventListener("click",s=>{const f=s.target.style.backgroundImage.slice(4,-1).replace(/"/g,"");_n(e,f,t.lang,t.dir)}),i.appendChild(r)}),i},Ln=e=>{let t=[],i=[];const o=(d,l)=>{const E=setTimeout(d,l);return i.push(E),E},r=()=>{i.forEach(d=>{clearTimeout(d)}),i=[]},s=(d,l,E,A=void 0)=>{d.addEventListener(l,E,A),t.push([d,l,E,A])},f=()=>{t.forEach(d=>{const[l,E,A,b]=d;l.removeEventListener(E,A,b)}),t=[]},m=d=>{const l=d.toElement||d.relatedTarget||d.target,E=e.element.currentTargetElement;if(l!==E&&!e.element.contains(l)){const A=o(e.hide,300),b=()=>{clearTimeout(A)};s(e.element,"mouseenter",b)}},g=d=>{const l=e.element.querySelector(".wikipediapreview-body"),E=e.element.querySelector(".wikipediapreview-header"),A=e.element.querySelector(".wikipediapreview-footer-cta")||e.element.querySelector(".wikipediapreview-footer-loading");if(l)if(e.element.style[2]==="bottom"||e.element.style.bottom){const b=e.element.getBoundingClientRect().top,_=parseInt(window.getComputedStyle(l).maxHeight.slice(0,-2));l.style.maxHeight=Math.min(d,_+b)+"px"}else{const b=e.element.getBoundingClientRect().top,_=window.getComputedStyle(E).height.slice(0,-2),y=A?window.getComputedStyle(A).height.slice(0,-2):0,x=window.innerHeight-b-_-y;l.style.maxHeight=Math.min(d,x)+"px"}},v=()=>{const{lang:l,title:E}=e;e.element.component.wikipediapreview.classList.add("expanded"),F||g(496),!e.loading&&l&&E&&on(l,E,A=>{const b=e.element.component.wikipediapreviewGallery;A&&A.length>0?b.appendChild(xn(A,e)):e.element.component.body.removeChild(b)})},T=d=>{let l,E,A,b;const _=d.querySelector(".wikipediapreview-header"),y=d.querySelector(".wikipediapreview-body"),x=$=>{l=$.touches[0].clientY,A=window.getComputedStyle(y),b=Number(A.height.slice(0,-2))},j=($,V)=>{V&&$.preventDefault();const Z=$.touches[0].clientY,q=l-Z,se=b+q,Me=!d.querySelector(".wikipediapreview.expanded")&&!V||V;y.style.transition="auto",E=Z,Me&&(y.style.maxHeight=se+"px")},ee=$=>{const V=d.querySelector(".wikipediapreview.expanded"),Z=l-E,q=Math.abs(Z)>80,se=!V&&!$||$;y.style.transition="all 0.25s ease-in-out",Z<0&&q&&se?e.hide():Z>0&&q&&se&&!V?(y.style.maxHeight="70vh",v()):y.style.maxHeight=b+"px"};s(y,"touchstart",x),s(y,"touchmove",$=>{j($,!1)}),s(y,"touchend",()=>ee(!1)),s(_,"touchstart",x),s(_,"touchmove",$=>{j($,!0)}),s(_,"touchend",()=>ee(!0))};return{onHide:()=>{e.element.component.wikipediapreview.classList.remove("expanded"),e.lang=null,e.title=null,e.loading=!1;const d=e.element.querySelector(".wikipediapreview-body");d.style.transition="auto",f(),r()},onShow:d=>{if(d.component={body:d.querySelector(".wikipediapreview-body"),wikipediapreview:d.querySelector(".wikipediapreview"),wikipediapreviewGallery:d.querySelector(".wikipediapreview-gallery"),closeBtn:d.querySelector(".wikipediapreview-header-closebtn"),readMore:d.querySelector(".wikipediapreview-footer-cta-readmore"),content:d.querySelector(".wikipediapreview-body > p")},d.component.content&&d.component.content.getBoundingClientRect().height<248?v():F||g(248),s(d.component.closeBtn,"click",e.hide),d.component.readMore&&s(d.component.readMore,"click",v),F){const l=document.querySelector(".wp-dark-screen");s(l,"click",e.hide,!0),T(d)}else s(d,"mouseleave",m),s(d.currentTargetElement,"mouseleave",m)},onExpand:v}};let C;const kn=(e,t,i,o,r)=>{const s=e.left+e.width/2,f=e.top+e.height/2,m=s<=o/2,g=f<=r/2,v=m?e.left:e.left+e.width-t,T=g?e.top+e.height:"",M=g?"":r-e.top;return{left:v,top:T,bottom:M}},pt=e=>e&&e+"px",Rn=e=>({left:e.left-3,right:e.right+3,top:e.top-3,bottom:e.bottom+3}),Cn=(e,{x:t,y:i})=>{const o=e.getClientRects();for(let r=0;r<o.length;r++){const s=Rn(o[r]);if(t>=s.left&&t<=s.right&&i>=s.top&&i<=s.bottom)return o[r]}return o[0]||e.getBoundingClientRect()},Mn=(e,t=window)=>{C||(C=t.document.createElement("div"),C.classList.add("wp-popup"),C.style.visibility="hidden",e.appendChild(C));const i={};return{show:(f,m,g)=>{C.innerHTML=f;const v=kn(Cn(m,g),C.offsetWidth,C.offsetHeight,t.innerWidth,t.innerHeight);C.style.left=pt(v.left),C.style.top=pt(v.top),C.style.bottom=pt(v.bottom),C.currentTargetElement=m,C.style.visibility="visible",i.onShow&&i.onShow(C)},hide:()=>{i.onHide&&i.onHide(C),C.style.visibility="hidden",C.currentTargetElement=null},subscribe:(f={})=>{f.onShow&&(i.onShow=f.onShow),f.onHide&&(i.onHide=f.onHide)},element:C}};let Q,ti;const On=e=>{if(!e.querySelector(".wp-dark-screen")){const t=e.createElement("div");t.classList.add("wp-dark-screen"),e.body.appendChild(t),ti=e.body.style.overflow,e.body.style.overflow="hidden"}},In=e=>{const t=e.getElementsByClassName("wp-dark-screen");e.body.removeChild(t[0]),e.body.style.overflow=ti},Nn=(e,t=window)=>{Q||(Q=t.document.createElement("div"),Q.classList.add("wp-touch-popup"),Q.style.visibility="hidden",e.appendChild(Q));const i={};return{show:m=>{Q.innerHTML=m,Q.style.visibility="visible",On(t.document),i.onShow&&i.onShow(Q)},hide:()=>{i.onHide&&i.onHide(Q),Q.style.visibility="hidden",In(t.document)},expand:()=>{i.onExpand&&i.onExpand()},subscribe:(m={})=>{m.onShow&&(i.onShow=m.onShow),m.onHide&&(i.onHide=m.onHide),m.onExpand&&(i.onExpand=m.onExpand)},element:Q}},ke=(e,t="")=>`
		<div class="wikipediapreview-header">
			${t?`<div class="wikipediapreview-header-image" style="${`background-image:url('${t}');background-size:cover;`}"></div>`:""}
			<div class="wikipediapreview-header-wordmark${t?" wikipediapreview-header-wordmark-with-image":""} wikipediapreview-header-wordmark-${e}"></div>
			<div class="wikipediapreview-header-closebtn"></div>
		</div>
`.trim(),ft=(e,t,i)=>`
		<div class="wikipediapreview-body wikipediapreview-body-${e}">
			<div class="wikipediapreview-body-message">
				<div class="wikipediapreview-body-icon"></div>
					${t}
			</div>
			<div class="wikipediapreview-body-action">
				${i}
			</div>
		</div>
`.trim(),Re=(e,t,i,o,r)=>`
		<div class="wikipediapreview ${t?"mobile":""}" lang="${e}" dir="${i}">
			${o}
			${r}
		</div>
	`.trim(),ii=(e,t,i)=>{const o=t.imgUrl,r=`
			<div class="wikipediapreview-body">
				${t.extractHtml}
				<div class="wikipediapreview-gallery">
				</div>
			</div>
			<div class="wikipediapreview-footer">
				<span class="wikipediapreview-footer-cta wikipediapreview-footer-cta-readmore">${B(e,"continue-reading")}</span>
				<a href="${Fe(e,t.title,i)}" class="wikipediapreview-footer-cta wikipediapreview-footer-cta-readonwiki" target="_blank">${B(e,"read-more")}</a>
			</div>
		`.trim();return Re(e,i,t.dir,ke(e,o),r)},Dn=(e,t,i)=>{const o=`
		<div class="wikipediapreview-body wikipediapreview-body-loading">
			<div class="wikipediapreview-body-loading-line larger"></div>
			<div class="wikipediapreview-body-loading-line medium"></div>
			<div class="wikipediapreview-body-loading-line larger"></div>
			<div class="wikipediapreview-body-loading-line medium"></div>
			<div class="wikipediapreview-body-loading-line smaller"></div>
			<div class="wikipediapreview-body-loading-line larger"></div>
			<div class="wikipediapreview-body-loading-line medium"></div>
			<div class="wikipediapreview-body-loading-line larger"></div>
			<div class="wikipediapreview-body-loading-line medium"></div>
			<div class="wikipediapreview-body-loading-line smaller"></div>
		</div>
		<div class="wikipediapreview-footer-loading"></div>
	`.trim();return Re(t,e,i,ke(t),o)},ni=(e,t,i)=>`<a href="${Fe(e,t,i)}" target="_blank" class="wikipediapreview-cta-readonwiki">${B(e,"read-on-wiki")}</a>`,$n=(e,t,i,o)=>{const r=`<span>${B(t,"preview-error-message")}</span>`,s=ni(t,i,e);return Re(t,e,o,ke(t),ft("error",r,s))},Pn=(e,t,i,o)=>{const r=`<span>${B(t,"preview-disambiguation-message",i)}</span>`,s=ni(t,i,e);return Re(t,e,o,ke(t),ft("disambiguation",r,s))},Hn=(e,t,i)=>{const o=`<span>${B(t,"preview-offline-message")}</span>`,r=`<a>${B(t,"preview-offline-cta")}</a>`;return Re(t,e,i,ke(t),ft("offline",o,r))},Ce=(e,t,i)=>{const o=e&&e[t];if(o instanceof Function)try{o.apply(null,i)}catch(r){console.log("Error invoking Wikipedia Preview custom callback",r)}},Un=(e,t,i)=>{Gt(t,e,o=>{i(ii(t,o,F))})};let oi;function Fn({root:e=document,selector:t="[data-wikipedia-preview]",lang:i="en",detectLinks:o=!1,popupContainer:r=document.body,events:s={},debug:f=!1}){const m=i,g=F?Nn(r):Mn(r),v=Ln(g),T={},M=[],te=[],d=(l,E=!1)=>{l.preventDefault();const A=Date.now(),{currentTarget:b}=E?T:l,_=E?T.title:decodeURIComponent(b.getAttribute("data-wp-title")||b.textContent),y=E?T.lang:b.getAttribute("data-wp-lang")||m,x=E?T.pointerPosition:{x:l.clientX,y:l.clientY},j=Ft(y);g.element.currentTargetElement===b&&!E||(oi=A,g.element.style.visibility==="visible"&&g.hide(),g.loading=!0,g.dir=j,g.show(Dn(F,y,j),b,x),Gt(y,_,ee=>{if(A===oi&&g.loading){if(g.loading=!1,ee)g.lang=y,g.title=_,ee.type==="standard"?(g.show(ii(y,ee,F),b,x),Ce(s,"onShow",[_,y,"standard"])):ee.type==="disambiguation"&&(g.show(Pn(F,y,ee.title,ee.dir),b,x),Ce(s,"onShow",[_,y,"disambiguation"]));else if(Ut())g.show($n(F,y,_,j),b,x),Ce(s,"onShow",[_,y,"error"]);else{g.show(Hn(F,y,j),b,x),Ce(s,"onShow",[_,y,"offline"]);const V=e.querySelector(".wikipediapreview-body-action");T.lang=y,T.title=_,T.pointerPosition=x,T.target=b,V.addEventListener("click",Z=>{d(Z,!0)})}const $=g.element.querySelector(".wikipediapreview-footer-cta-readonwiki, .wikipediapreview-cta-readonwiki");if($&&$.addEventListener("click",()=>{Ce(s,"onWikiRead",[_,y])}),b.tagName==="A"){const V=Ue().split("="),Z=new URL(b.href);Z.searchParams.set(V[0],V[1]),b.href=Z.href}}}))};g.subscribe(v),Array.prototype.forEach.call(e.querySelectorAll(t),l=>{F?l.addEventListener("click",d):l.addEventListener("mouseenter",d),M.push({text:l.textContent,title:l.getAttribute("data-wp-title")||l.textContent,lang:l.getAttribute("data-wp-lang")||m})}),o&&Array.prototype.forEach.call(e.querySelectorAll("a"),l=>{const E=Ki(l.getAttribute("href"));E&&(l.setAttribute("data-wp-title",E.title),l.setAttribute("data-wp-lang",E.lang),F?l.addEventListener("click",d):l.addEventListener("mouseenter",d),te.push({text:l.textContent,title:E.title,lang:E.lang}))}),f&&(console.group("Wikipedia Preview [debug mode]"),console.group(`Searching for "${t}" inside ${e}, Total links found: ${M.length}`),M.forEach((l,E)=>{console.log(E+1,`${l.text} -> ${Fe(l.lang,l.title,F,!1)}`)}),console.groupEnd(),o&&(console.group(`Searching for links to Wikipedia, Total links found: ${te.length}`),te.forEach((l,E)=>{console.log(E+1,`${l.text} -> ${Fe(l.lang,l.title,F,!1)}`)}),console.groupEnd()),console.groupEnd())}return Yt(),{init:Fn,version:Yt,getPreviewHtml:Un}});
